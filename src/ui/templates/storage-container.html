<h1>Storage</h1>
<div class="card">
  <div class="text-muted mb-05">Path: <span class="mono">{{displayPath}}</span></div>
  {{{breadcrumbs}}}
</div>
<div class="card">
  <h2>Contents</h2>
  {{^hasItems}}
  <div class="text-muted">Empty container.</div>
  {{/hasItems}}
  {{#hasItems}}
  <table>
    {{#items}}
    <tr>
      <td class="col-icon">{{{icon}}}</td>
      <td><a href="/storage/{{storagePath}}" class="mono">{{name}}</a></td>
      <td class="col-action">
        <a href="/{{rawPath}}" class="text-muted text-sm" target="_blank">raw</a>
        <form method="POST" action="/storage/{{storagePath}}" class="inline-form ml-05">
          <input type="hidden" name="action" value="delete">
          <button type="submit" class="link-btn"
            data-confirm="Delete {{name}}?">delete</button>
        </form>
      </td>
    </tr>
    {{/items}}
  </table>
  {{/hasItems}}
  <div class="mt-075 flex gap-05">
    <a href="/acp/{{{path}}}" class="btn btn-secondary btn-small-text">Access Policy</a>
    {{^isRoot}}
    <form method="POST" action="/storage/{{{path}}}" class="inline-form">
      <input type="hidden" name="action" value="delete">
      <button type="submit" class="btn btn-danger btn-small-text"
        data-confirm="Delete this container and all its contents?">Delete Container</button>
    </form>
    {{/isRoot}}
  </div>
</div>
<details class="card">
  <summary>Create Container</summary>
  <form method="POST" action="/storage/{{{path}}}">
    <input type="hidden" name="action" value="mkdir">
    <div class="flex gap-05">
      <input type="text" name="name" placeholder="Container name" required class="flex-1">
      <button type="submit" class="btn">Create</button>
    </div>
  </form>
</details>
<details class="card">
  <summary>Upload File</summary>
  <form method="POST" action="/storage/{{{path}}}" enctype="multipart/form-data">
    <input type="hidden" name="action" value="upload">
    <div class="form-group"><input type="file" name="file" required></div>
    <div class="form-group"><input type="text" name="slug" placeholder="Filename (optional, uses original name if empty)"></div>
    <button type="submit" class="btn">Upload</button>
  </form>
</details>
<details class="card">
  <summary>Create Resource</summary>
  <form method="POST" action="/storage/{{{path}}}">
    <input type="hidden" name="action" value="create">
    <div class="form-group">
      <label for="create-name">Filename</label>
      <input type="text" id="create-name" name="name" placeholder="e.g. notes.txt, data.ttl, page.html" required>
    </div>
    <div class="form-group">
      <label for="create-content">Content</label>
      <textarea id="create-content" name="content" rows="8" class="mono editor-textarea" placeholder="Enter content..."></textarea>
    </div>
    <button type="submit" class="btn">Create</button>
  </form>
</details>

