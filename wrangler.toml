name = "paa-pub"
main = "src/index.js"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

[vars]
PAA_USERNAME = "admin"
# PAA_PASSWORD set via `wrangler secret put PAA_PASSWORD`
# PAA_DOMAIN set via `wrangler secret put PAA_DOMAIN` or vars
# PAA_STORAGE_LIMIT set here or via secret (default 1GB)
# PAA_FEED_LIMIT set here or via secret (default 50)

[assets]
directory = "./public"

[[kv_namespaces]]
binding = "TRIPLESTORE"
id = "triplestore-kv-id"

[[kv_namespaces]]
binding = "APPDATA"
id = "appdata-kv-id"

[[r2_buckets]]
binding = "BLOBS"
bucket_name = "paa-pub-blobs"

[[rules]]
type = "Text"
globs = ["**/*.html"]
fallthrough = true
